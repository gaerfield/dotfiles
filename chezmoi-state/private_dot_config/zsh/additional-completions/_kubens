#compdef kubens kns=kubens

# this script is a replacement from:
#      https://raw.githubusercontent.com/ahmetb/kubectx/master/completion/kubens.zsh
# error: _arguments:comparguments:325: can only be called from completion function
# https://github.com/ahmetb/kubectx/issues/285

__kubens() {
  _arguments "1: :(- $(kubectl get namespaces -o=jsonpath='{range .items[*].metadata.name}{@}{"\n"}{end}'))"
}
